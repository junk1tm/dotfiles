# enable mouse support
set -g mouse on

# enable true color support
# https://gist.github.com/andersevenrud/015e61af2fd264371032763d4ed965b6
set -g default-terminal "tmux-256color"
set-option -sa terminal-features ",$TERM:RGB"

# apply nvim :checkhealth suggestions
set-option -sg escape-time 10
set-option -g focus-events on

# number windows and panes from 1
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# map <C-Space> to <Prefix>
set -g prefix C-Space
bind-key C-Space send-prefix

# split windows with | and _ keeping the current path
bind | split-window -h -c "#{pane_current_path}"
bind _ split-window -v -c "#{pane_current_path}"

# navigate seamlessly between tmux and vim panes
# https://github.com/christoomey/vim-tmux-navigator
is_vim="ps -o state= -o comm= -t '#{pane_tty}' | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|l?n?vim?x?|fzf)(diff)?$'"
bind-key -n "S-Left" if-shell "$is_vim" "send-keys S-Left" "select-pane -L"
bind-key -n "S-Down" if-shell "$is_vim" "send-keys S-Down" "select-pane -D"
bind-key -n "S-Up" if-shell "$is_vim" "send-keys S-Up" "select-pane -U"
bind-key -n "S-Right" if-shell "$is_vim" "send-keys S-Right" "select-pane -R"
bind-key -T copy-mode-vi "S-Left" select-pane -L
bind-key -T copy-mode-vi "S-Down" select-pane -D
bind-key -T copy-mode-vi "S-Up" select-pane -U
bind-key -T copy-mode-vi "S-Right" select-pane -R
